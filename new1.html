<!DOCTYPE html>
<html lang="en" class="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Rural Development Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-geo@4.3.0/build/index.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --chart-font-color: #6b7280;
        }
        html.dark {
            --chart-font-color: #9ca3af;
        }
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }
        .chart-container {
            position: relative;
            height: 45vh;
            width: 100%;
        }
        /* Custom scrollbar for a cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        html.dark ::-webkit-scrollbar-track {
            background: #1e293b;
        }
        ::-webkit-scrollbar-thumb {
            background: #94a3b8;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }
    </style>
</head>
<body class="bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-slate-200">

    <div class="container mx-auto p-4 md:p-6 lg:p-8">
        <header class="mb-8 flex justify-between items-center">
            <div>
                <h1 class="text-3xl md:text-4xl font-bold text-slate-900 dark:text-white">Rural Development Analysis</h1>
                <p class="text-slate-600 dark:text-slate-400 mt-2">An interactive dashboard to explore state-level development indicators from 2010 to 2024.</p>
            </div>
            <button id="theme-toggle" class="p-2 rounded-full bg-slate-200 dark:bg-slate-800 text-slate-600 dark:text-slate-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 focus:ring-offset-slate-100 dark:focus:ring-offset-slate-900">
                <svg id="theme-icon-light" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                <svg id="theme-icon-dark" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
            </button>
        </header>

        <!-- Controls -->
        <div class="bg-white dark:bg-slate-800 p-4 rounded-lg shadow-md mb-8 flex flex-col md:flex-row gap-4 items-center">
            <div class="w-full md:w-1/3">
                <label for="state-select" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Select State</label>
                <select id="state-select" class="w-full p-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"></select>
            </div>
            <div class="w-full md:w-1/3">
                <label for="year-select" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Select Year</label>
                <select id="year-select" class="w-full p-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"></select>
            </div>
            <div class="w-full md:w-1/3">
                <label for="metric-select" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Comparison Metric</label>
                <select id="metric-select" class="w-full p-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"></select>
            </div>
        </div>

        <!-- KPI Cards -->
        <div id="kpi-cards" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <!-- KPI cards will be dynamically inserted here -->
        </div>

        <!-- Charts -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <div class="bg-white dark:bg-slate-800 p-6 rounded-lg shadow-md">
                <h2 class="text-xl font-semibold mb-4 text-slate-800 dark:text-white">Development Trends for <span id="trend-chart-state"></span></h2>
                <div class="chart-container">
                    <canvas id="trends-chart"></canvas>
                </div>
            </div>
            <div class="bg-white dark:bg-slate-800 p-6 rounded-lg shadow-md">
                <h2 class="text-xl font-semibold mb-4 text-slate-800 dark:text-white">State Comparison (<span id="bar-chart-year"></span>)</h2>
                <div class="chart-container">
                    <canvas id="comparison-chart"></canvas>
                </div>
            </div>
        </div>
        
        <div class="grid grid-cols-1 lg:grid-cols-5 gap-8 mb-8">
             <div class="lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-lg shadow-md">
                <h2 class="text-xl font-semibold mb-4 text-slate-800 dark:text-white">Development Snapshot (<span id="radar-chart-state-year"></span>)</h2>
                <div class="chart-container">
                    <canvas id="radar-chart"></canvas>
                </div>
            </div>
            <div class="lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-lg shadow-md">
                <h2 class="text-xl font-semibold mb-4 text-slate-800 dark:text-white">Geographic Distribution (<span id="map-chart-year"></span>)</h2>
                 <div class="chart-container">
                    <canvas id="map-chart"></canvas>
                </div>
            </div>
        </div>
        
        <div class="bg-white dark:bg-slate-800 p-6 rounded-lg shadow-md overflow-x-auto">
            <h2 class="text-xl font-semibold mb-4 text-slate-800 dark:text-white">State Data for <span id="table-year"></span></h2>
            <table class="min-w-full divide-y divide-slate-200 dark:divide-slate-700">
                <thead class="bg-slate-50 dark:bg-slate-700">
                    <tr>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider">State</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider">Roads (%)</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider">Hospitals (%)</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider">Housing (%)</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider">Education (%)</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider">Internet (%)</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider">Income (INR)</th>
                    </tr>
                </thead>
                <tbody id="data-table-body" class="bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700">
                    <!-- Data rows will be inserted here -->
                </tbody>
            </table>
        </div>

    </div>

    <script>
        const csvData = `Year,State,Roads Development (%),Hospitals Development (%),Housing Development (%),Education Development (%),Internet Facility Rate (%),Employment Rate (%),Unemployment Rate (%),Population (Millions),Per Capita Income (INR)
2010,Uttar Pradesh,15,10,12,45,15,45,15,195.5,5000
2010,Bihar,12,8,10,40,12,42,18,100.2,4500
2010,West Bengal,20,15,18,50,20,50,12,90.1,7000
2010,Maharashtra,35,25,30,60,35,58,15,110.2,15000
2010,Karnataka,30,22,28,55,30,55,13,58.9,16000
2010,Tamil Nadu,40,30,35,62,40,62,11,70.1,18000
2010,Rajasthan,25,15,20,50,25,48,14,65.8,8000
2010,Madhya Pradesh,22,14,18,48,22,46,13,70.2,7500
2010,Punjab,55,45,50,75,45,65,8,27.1,20000
2010,Haryana,52,42,48,72,42,64,9,25,19000
2010,Gujarat,47,37,42,65,38,62,9,59.9,17000
2010,Andhra Pradesh,32,22,28,58,30,54,12,48.2,12000
2010,Telangana,30,20,25,56,28,52,13,34.8,11000
2010,Odisha,28,18,24,55,25,50,14,40.2,8000
2010,Kerala,60,50,55,85,55,75,5,32.8,18000
2015,Uttar Pradesh,25,18,22,55,30,48,12,197.2,8000
2015,Bihar,20,15,18,50,25,45,15,101.5,7000
2015,West Bengal,30,22,25,62,35,55,10,90.5,10000
2015,Maharashtra,50,40,45,72,50,62,14,111.2,20000
2015,Karnataka,45,35,40,65,45,60,12,59.8,22000
2015,Tamil Nadu,55,45,50,75,55,68,9,70.9,24000
2015,Rajasthan,35,25,30,60,38,55,12,67.2,13000
2015,Madhya Pradesh,32,22,28,58,35,50,11,71.5,11000
2015,Punjab,65,55,60,80,60,70,6,27.5,28000
2015,Haryana,62,52,58,78,58,69,8,25.2,26000
2015,Gujarat,58,48,52,72,55,68,7,60.1,28000
2015,Andhra Pradesh,45,35,40,65,48,60,10,48.8,18000
2015,Telangana,48,38,42,68,52,60,11,34.8,19000
2015,Odisha,38,28,34,60,35,53,12,41,12000
2015,Kerala,70,60,65,88,65,78,4,32.8,22000
2020,Uttar Pradesh,32,22,26,62,42,50,10,198.5,10000
2020,Bihar,28,18,22,58,38,47,13,103.1,9000
2020,West Bengal,35,26,30,67,48,57,8,91,13000
2020,Maharashtra,60,50,55,78,65,66,12,111.9,23000
2020,Karnataka,55,45,50,72,60,63,10,60.6,26000
2020,Tamil Nadu,65,55,60,80,68,71,8,71.6,28000
2020,Rajasthan,45,35,40,68,50,62,10,68,18000
2020,Madhya Pradesh,42,30,35,66,48,52,9,72,14000
2020,Punjab,70,60,65,82,70,72,5,27.6,32000
2020,Haryana,68,58,62,80,68,70,7,25.3,30000
2020,Gujarat,62,52,58,75,62,69,6,60.2,34000
2020,Andhra Pradesh,50,40,45,70,55,61,9,49.1,20000
2020,Telangana,55,45,50,72,58,62,10,35,22000
2020,Odisha,45,35,40,65,45,55,11,41.5,16000
2020,Kerala,75,65,70,89,70,80,3,33.1,28000
2024,Uttar Pradesh,35,25,30,65,46,52,8,199.8,12000
2024,Bihar,30,20,25,60,43,48,12,104.1,10500
2024,West Bengal,40,30,35,70,55,58,7,91.3,15000
2024,Maharashtra,65,55,60,80,70,68,12,112.4,25000
2024,Karnataka,60,50,55,75,65,65,10,61.1,28000
2024,Tamil Nadu,70,60,65,82,72,72,8,72.1,30000
2024,Rajasthan,45,35,40,68,58,55,10,68.6,18000
2024,Madhya Pradesh,40,30,35,66,52,53,9,72.6,16000
2024,Punjab,75,65,70,85,75,75,5,27.8,35000
2024,Haryana,72,62,68,83,73,73,7,25.4,32000
2024,Gujarat,67,57,62,78,68,70,6,60.4,38000
2024,Andhra Pradesh,55,45,50,72,60,62,8,49.4,22000
2024,Telangana,60,50,55,74,62,64,9,35.2,24000
2024,Odisha,50,40,45,69,54,57,10,41.9,19000
2024,Kerala,80,70,75,90,72,82,3,33.4,32000`;

        // --- GLOBAL VARS & CONFIG ---
        let data, states, years, metrics, geoData;
        let trendsChart, comparisonChart, radarChart, mapChart;
        const CHART_COLORS = {
            indigo: 'rgba(79, 70, 229, 1)',
            indigo_light: 'rgba(79, 70, 229, 0.2)',
            sky: 'rgba(14, 165, 233, 1)',
            emerald: 'rgba(16, 185, 129, 1)',
            amber: 'rgba(245, 158, 11, 1)',
            rose: 'rgba(244, 63, 94, 1)',
            violet: 'rgba(139, 92, 246, 1)',
        };
        Chart.defaults.font.family = "'Inter', sans-serif";

        // --- DATA PARSING ---
        function parseData() {
            const rows = csvData.trim().split('\n');
            const headers = rows.shift().split(',').map(h => h.trim());
            data = rows.map(row => {
                const values = row.split(',');
                const entry = {};
                headers.forEach((header, i) => {
                    const value = values[i] ? values[i].trim() : '';
                    entry[header] = isNaN(Number(value)) || value === '' ? value : Number(value);
                });
                return entry;
            });

            states = [...new Set(data.map(d => d.State))].sort();
            years = [...new Set(data.map(d => d.Year))].sort();
            metrics = headers.filter(h => h.includes('(%)') || h.includes('(INR)'));
        }

        // --- DOM ELEMENTS ---
        const stateSelect = document.getElementById('state-select');
        const yearSelect = document.getElementById('year-select');
        const metricSelect = document.getElementById('metric-select');
        const kpiContainer = document.getElementById('kpi-cards');
        const themeToggle = document.getElementById('theme-toggle');
        const themeIconLight = document.getElementById('theme-icon-light');
        const themeIconDark = document.getElementById('theme-icon-dark');
        
        // --- THEME SWITCHER ---
        function setupTheme() {
            const isDarkMode = localStorage.getItem('theme') === 'dark';
            if (isDarkMode) {
                document.documentElement.classList.add('dark');
                themeIconLight.classList.add('hidden');
                themeIconDark.classList.remove('hidden');
            }
            themeToggle.addEventListener('click', () => {
                document.documentElement.classList.toggle('dark');
                const isDark = document.documentElement.classList.contains('dark');
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
                themeIconLight.classList.toggle('hidden', isDark);
                themeIconDark.classList.toggle('hidden', !isDark);
                updateDashboard(); // Re-render charts with new theme colors
            });
        }

        // --- INITIALIZATION ---
        async function initialize() {
            setupTheme();
            parseData();
            
            // Fetch GeoJSON data
            try {
                const response = await fetch('https://raw.githubusercontent.com/geohacker/india/master/state/india_state.geojson');
                if (!response.ok) throw new Error('Network response was not ok');
                geoData = await response.json();
            } catch (error) {
                console.error("Failed to fetch GeoJSON data:", error);
                // Handle error: maybe disable the map chart
            }

            // Populate dropdowns
            states.forEach(state => stateSelect.add(new Option(state, state)));
            years.forEach(year => yearSelect.add(new Option(year, year)));
            metrics.forEach(metric => metricSelect.add(new Option(metric.replace(/ \(.+\)/, ''), metric)));

            // Set initial selections
            stateSelect.value = states[0];
            yearSelect.value = years[years.length - 1];
            metricSelect.value = metrics[0];

            // Add event listeners
            [stateSelect, yearSelect, metricSelect].forEach(el => el.addEventListener('change', updateDashboard));
            
            updateDashboard();
        }

        // --- UPDATE DASHBOARD ---
        function updateDashboard() {
            const selectedState = stateSelect.value;
            const selectedYear = parseInt(yearSelect.value);
            const selectedMetric = metricSelect.value;
            const isDark = document.documentElement.classList.contains('dark');
            Chart.defaults.color = isDark ? '#9ca3af' : '#6b7280';


            updateKPIs(selectedState, selectedYear);
            updateTrendsChart(selectedState);
            updateComparisonChart(selectedYear, selectedMetric);
            updateRadarChart(selectedState, selectedYear);
            if (geoData) updateMapChart(selectedYear, selectedMetric);
            updateDataTable(selectedYear);
        }
        
        // --- UPDATE FUNCTIONS ---
        function updateKPIs(state, year) {
            const stateYearData = data.find(d => d.State === state && d.Year === year);
            kpiContainer.innerHTML = '';

            if (!stateYearData) return;

            const kpis = [
                { label: 'Per Capita Income', value: `â‚¹${stateYearData['Per Capita Income (INR)'].toLocaleString('en-IN')}`, icon: 'â‚¹' },
                { label: 'Population', value: `${stateYearData['Population (Millions)']} M`, icon: 'ðŸ‘¥' },
                { label: 'Employment Rate', value: `${stateYearData['Employment Rate (%)']}%`, icon: 'ðŸ’¼' },
                { label: 'Unemployment Rate', value: `${stateYearData['Unemployment Rate (%)']}%`, icon: 'ðŸ“‰' }
            ];

            kpis.forEach(kpi => {
                const card = `
                    <div class="bg-white dark:bg-slate-800 p-5 rounded-lg shadow-md flex items-center transition-transform transform hover:scale-105">
                        <div class="bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-400 rounded-full h-12 w-12 flex items-center justify-center text-2xl mr-4">${kpi.icon}</div>
                        <div>
                            <p class="text-sm text-slate-500 dark:text-slate-400">${kpi.label}</p>
                            <p class="text-2xl font-semibold text-slate-900 dark:text-white">${kpi.value}</p>
                        </div>
                    </div>
                `;
                kpiContainer.innerHTML += card;
            });
        }

        function updateTrendsChart(state) {
            document.getElementById('trend-chart-state').textContent = state;
            const stateData = data.filter(d => d.State === state).sort((a, b) => a.Year - b.Year);
            const chartData = {
                labels: stateData.map(d => d.Year),
                datasets: metrics.map((metric, i) => ({
                    label: metric.replace(/ \(.+\)/, ''),
                    data: stateData.map(d => d[metric]),
                    borderColor: Object.values(CHART_COLORS)[i % Object.keys(CHART_COLORS).length],
                    tension: 0.1,
                    pointRadius: 3,
                    pointHoverRadius: 6,
                }))
            };

            if (trendsChart) trendsChart.destroy();
            const ctx = document.getElementById('trends-chart').getContext('2d');
            trendsChart = new Chart(ctx, {
                type: 'line',
                data: chartData,
                options: {
                    responsive: true, maintainAspectRatio: false,
                    scales: { y: { beginAtZero: false, grid: { color: 'rgba(128,128,128,0.2)' } }, x: { grid: { display: false } } },
                    plugins: { legend: { position: 'bottom', labels: { usePointStyle: true } } }
                }
            });
        }

        function updateComparisonChart(year, metric) {
            document.getElementById('bar-chart-year').textContent = year;
            const yearData = data.filter(d => d.Year === year).sort((a,b) => b[metric] - a[metric]);
            
            const chartData = {
                labels: yearData.map(d => d.State),
                datasets: [{
                    label: metric,
                    data: yearData.map(d => d[metric]),
                    backgroundColor: CHART_COLORS.indigo_light,
                    borderColor: CHART_COLORS.indigo,
                    borderWidth: 2,
                    borderRadius: 4,
                }]
            };

            if (comparisonChart) comparisonChart.destroy();
            const ctx = document.getElementById('comparison-chart').getContext('2d');
            comparisonChart = new Chart(ctx, {
                type: 'bar',
                data: chartData,
                 options: {
                    responsive: true, maintainAspectRatio: false, indexAxis: 'y',
                    scales: { y: { grid: { display: false } }, x: { grid: { color: 'rgba(128,128,128,0.2)' } } },
                    plugins: { legend: { display: false } }
                }
            });
        }
        
        function updateRadarChart(state, year) {
            document.getElementById('radar-chart-state-year').textContent = `${state}, ${year}`;
            const stateYearData = data.find(d => d.State === state && d.Year === year);

            if (!stateYearData) return;

            const radarMetrics = ['Roads Development (%)', 'Hospitals Development (%)', 'Housing Development (%)', 'Education Development (%)', 'Internet Facility Rate (%)'];
            
            const chartData = {
                labels: radarMetrics.map(m => m.replace(/ Development| Rate| \(%\)/g, '')),
                datasets: [{
                    label: `${state} (${year})`,
                    data: radarMetrics.map(metric => stateYearData[metric]),
                    backgroundColor: CHART_COLORS.indigo_light,
                    borderColor: CHART_COLORS.indigo,
                    pointBackgroundColor: CHART_COLORS.indigo,
                }]
            };

            if (radarChart) radarChart.destroy();
            const ctx = document.getElementById('radar-chart').getContext('2d');
            radarChart = new Chart(ctx, {
                type: 'radar',
                data: chartData,
                options: {
                    responsive: true, maintainAspectRatio: false,
                    scales: { r: { suggestedMin: 0, suggestedMax: 100, grid: { color: 'rgba(128,128,128,0.2)' }, pointLabels: { font: { size: 10 } } } },
                    plugins: { legend: { display: false } }
                }
            });
        }

        function updateMapChart(year, metric) {
            document.getElementById('map-chart-year').textContent = year;
            const yearData = data.filter(d => d.Year === year);
            if (!geoData || !geoData.features) {
                console.error("GeoData is not loaded or has an incorrect format.");
                return;
            }
            const states = geoData.features;

             // Data mapping
            const dataMap = new Map(yearData.map(d => [d.State, d[metric]]));
            const values = Array.from(dataMap.values());
            const min = Math.min(...values);
            const max = Math.max(...values);
            
            if (mapChart) mapChart.destroy();
            const ctx = document.getElementById('map-chart').getContext('2d');
            mapChart = new Chart(ctx, {
                type: 'choropleth',
                data: {
                    labels: states.map(d => d.properties.NAME_1),
                    datasets: [{
                        label: 'States',
                        outline: states,
                        data: states.map(d => ({
                            feature: d,
                            value: dataMap.get(d.properties.NAME_1) || 0
                        }))
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: (context) => `${context.raw.feature.properties.NAME_1}: ${context.raw.value.toLocaleString()}`
                            }
                        }
                    },
                    scales: {
                        projection: {
                            axis: 'x',
                            projection: 'mercator'
                        },
                        color: {
                            axis: 'y',
                            interpolate: (value) => {
                                const t = (value - min) / (max - min || 1);
                                const isDark = document.documentElement.classList.contains('dark');
                                // Blue to Red for light mode, Cool to Warm for dark mode
                                const startColor = isDark ? [59, 130, 246] : [224, 242, 254]; // cool blue
                                const endColor = isDark ? [239, 68, 68] : [127, 29, 29]; // warm red
                                const r = startColor[0] + t * (endColor[0] - startColor[0]);
                                const g = startColor[1] + t * (endColor[1] - startColor[1]);
                                const b = startColor[2] + t * (endColor[2] - startColor[2]);
                                return `rgb(${r}, ${g}, ${b})`;
                            },
                            legend: { position: 'bottom-right' }
                        }
                    }
                }
            });
        }

        function updateDataTable(year) {
            document.getElementById('table-year').textContent = year;
            const tableBody = document.getElementById('data-table-body');
            tableBody.innerHTML = '';
            const yearData = data.filter(d => d.Year === year);

            yearData.forEach(d => {
                const row = `
                    <tr class="hover:bg-slate-50 dark:hover:bg-slate-700/50">
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white">${d.State}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400">${d['Roads Development (%)']}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400">${d['Hospitals Development (%)']}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400">${d['Housing Development (%)']}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400">${d['Education Development (%)']}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400">${d['Internet Facility Rate (%)']}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400">${d['Per Capita Income (INR)'].toLocaleString('en-IN')}</td>
                    </tr>
                `;
                tableBody.innerHTML += row;
            });
        }

        // --- START THE APP ---
        document.addEventListener('DOMContentLoaded', initialize);
    </script>
</body>
</html>
